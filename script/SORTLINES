#Print the top N lines after sorting the content of file in Descending order...

# creating a txt file
#inserting n lines in the txt file
#sorting lines in descending order & display top n lines

#!/bin/bash

#FUCNTION FOR SORTING AND DISPLAY LINE IN DESCENDING ORDER
function sort_disp(){
  FILENAME=$1
  NO_OF_LINE=$2
  sort -n -r $FILENAME | head -n $NO_OF_LINE

}
#FUCNTION FOR LINE CHECK ENTERED BY USER 
function check_lines(){
   FILENAME=$1
   echo -n "how many lines you want in descending order "
   read N
   Lines=`wc -l $FILENAME | awk '{ print $1 }'`
   if [ "$N" -gt "$Lines" ]
   then
      echo "you entered more than available lines!!"
      echo "displaying available lines in descending order"
      sort_disp $FILENAME $Lines
   else
      sort_disp $FILENAME $N
   fi
}
#FUNCTION FOR INSERTING LINES
function insert_line(){
FILENAME=$1
while true;
do
        echo "enter the line"
        read data
        if [ $data == "exit" ]; then
                break
        fi
        echo $data >> $FILENAME

done
}

echo -n "enter file name you want to create "
read FILENAME
if [ -f "$FILENAME" ]; then
  echo "file already exist"
#FUNCTION CALL
  check_lines $FILENAME
else
  echo "file $file does not exist. creating now"
  touch $FILENAME
  
  echo  "file created"
  echo "TO EXIT FROM LOOP TYPE EXIT"

  insert_line $FILENAME

# TO DISPLAY THE LINES IN DESCENDING ORDER
#FUNCTION CALL 
  check_lines $FILENAME
fi
